@using Cats.Areas.EarlyWarning.Models
@using Kendo.Mvc.UI
@using LanguageHelpers.Localization
@using Cats.Helpers
@using Cats.Security

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/NewTheme _MainLayout.cshtml";
    ViewBag.PageTitle = Html.Translate("Donors");
    ViewBag.PageTitleDescription = "";
}


<div class="portlet light bordered ">
    <div class="portlet-title">
        <div class="caption font-green-sharp">
            <i class="icon-list font-green-sharp"></i>
            <span class="caption-subject bold uppercase"> @Html.Translate("List Of Donors Coverage")</span>
        </div>
        <div class="tools">
            <a href="#" class="collapse" data-original-title="" title=""></a>
        </div>
        <div class="actions">
            @if (UserAccountHelper.EarlyWarningPsnpOperationCheck(EarlyWarningConstants.Operation.Add_new_donor_coverage))
            {
                <a data-buttontype="btn_new_record" class="btn green" href="@Url.Action("Create", "DonorCoverage")"><span class="fa fa-plus"></span> @Html.Translate("New Donor")</a>
            }
            <a class="btn btn-icon-only btn-default fullscreen"></a>
        </div>
    </div>

    <div class="portlet-body">
        <div class="table-responsive">
            @(Html.Kendo().Grid<HRDDonorCoverageViewModel>().Name("grid")
                .Columns(columns =>
                {
                    columns.Bound(m => m.DonorName).Title("Donor/Partner Name").ClientTemplate("<a href='" + Url.Action("Detail", "DonorCoverage", new { id = "#=HrdDonorCovarageID#" }) + " '>#=DonorName#</a>  ");
                    columns.Bound(m => m.HRDName);
                    columns.Bound(m => m.CreatedDate);
                    columns.Bound(m => m.NoCoveredWoredas).Title(Html.Translate("Number of Woredas"));

                }

                 )

             .Scrollable()
             .HtmlAttributes(new { style = "height:430px;" })
             .DataSource(dataSource => dataSource
            .Ajax()
            .Model(model => model.Id(p => p.HrdDonorCovarageID))
            .Read(read => read.Action("DonorCoverage_Read", "DonorCoverage"))

            )
            )
        </div>
    </div>
</div>


