/*
* Kendo UI Complete v2013.1.319 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(e,i){return i()})(["./kendo.mobile.pane.min","./kendo.router.min"],function(){(function(e,i){function n(e){var i=[];return i.push("km-"+e.name),m&&i.push("km-on-"+m.name),i.push("km-"+e.name+e.majorVersion),i.push("km-"+e.majorVersion),i.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.appMode?i.push("km-app"):i.push("km-web"),i.join(" ")}function t(e){return m.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function o(e){return t(e)?h:u}function a(){e("meta[name=viewport]").remove(),y.append(b({height:t()?", height="+window.innerHeight+"px":d.mobileOS.flatVersion>=600&&700>d.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height"}))}var r=window.kendo,s=r.mobile,d=r.support,l=s.ui.Pane,p="ios",m=d.mobileOS,c="blackberry"==m.device&&m.flatVersion>=600&&1e3>m.flatVersion&&m.appMode,u="km-vertical",h="km-horizontal",f={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,appMode:!1,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},b=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),v='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> <meta name="msapplication-tap-highlight" content="no" /> ',w=b({height:""}),g=r.template('<link rel="apple-touch-icon'+(m.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),k=("iphone"==m.device||"ipod"==m.device)&&"mobilesafari"==m.browser,V=60,_=e(window),y=e("head"),C=e.proxy,M=r.Observable.extend({init:function(i,n){var t=this;s.application=t,t.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0},n),r.Observable.fn.init.call(t,t.options),e(function(){t.element=e(i?i:document.body),t._setupPlatform(),t._setupElementClass(),t._attachHideBarHandlers(),t.pane=new l(t.element,t.options),t._attachMeta(),t.options.updateDocumentTitle&&t._setupDocumentTitle(),t._startHistory()})},navigate:function(e,i){this.pane.navigate(e,i)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var i,t=this,o=t.options.platform,a=m||f[p];o&&(a="string"==typeof o?f[o]:o),t.os=a,t.osCssClass=n(t.os),"wp"==a.name&&(i=C(t._setupWP8Theme,t),e(window).on("focusin",i),document.addEventListener("resume",i),t._setupWP8Theme())},_setupWP8Theme:function(){var i,n=this,t=e(n.element);n._bgColorDiv||(n._bgColorDiv=e("<div />").css({background:"Background",visibility:"hidden",position:"absolute",top:"-3333px"}).appendTo(document.body)),i=parseInt(n._bgColorDiv.css("background-color").split(",")[1],10),t.removeClass("km-wp-dark km-wp-light"),0===i?t.addClass("km-wp-dark"):t.addClass("km-wp-light"),t.parent().css("overflow","hidden")},_startHistory:function(){var e=this,i=e.options.initial,n=new r.Router({init:function(e){var t=e.url;"/"===t&&i&&(n.navigate(i,!0),e.preventDefault())},routeMissing:function(i){e.pane.navigate(i.url)}});e.pane.bind("navigate",function(e){n.navigate(e.url,!0)}),n.start(),e.router=n},_setupElementClass:function(){var e=this,i=e.element;i.parent().addClass("km-root km-"+(e.os.tablet?"tablet":"phone")),i.addClass(e.osCssClass+" "+o(i)),c&&a(),r.onResize(function(){i.removeClass("km-horizontal km-vertical").addClass(o(i)),c&&a()})},_attachMeta:function(){var e,i=this.options.icon;if(c||y.prepend(w),y.prepend(v),i){"string"==typeof i&&(i={"":i});for(e in i)y.prepend(g({icon:i[e],size:e}))}},_attachHideBarHandlers:function(){var e=this,i=C(e._hideBar,e);!d.mobileOS.appMode&&e.options.hideAddressBar&&(e._initialHeight={},k&&(_.on("load",i),r.onResize(i),e.element[0].addEventListener("touchstart",i,!0)))},_setupDocumentTitle:function(){var e=this,n=document.title;e.pane.bind("viewShow",function(e){var t=e.view.title;document.title=t!==i?t:n})},_hideBar:function(){var e,i=this,n=i.element,t=window.orientation+"",o=i._initialHeight;o[t]||(o[t]=_.height()),e=o[t]+V,e!=n.height()&&n.height(e),setTimeout(window.scrollTo,0,0,1)}});r.mobile.Application=M})(window.kendo.jQuery)});