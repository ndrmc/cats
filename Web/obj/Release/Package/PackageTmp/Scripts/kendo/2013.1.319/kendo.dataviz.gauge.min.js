/*
* Kendo UI Complete v2013.1.319 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.dataviz-core.min","./kendo.dataviz-svg.min"],function(){(function(){function e(e,i,t){var o=b(e.from)?e.from:V,r=b(e.to)?e.to:U;return e.from=n.max(n.min(r,o),i),e.to=n.min(n.max(r,o),t),e}var n=Math,i=window.kendo,t=i.ui.Widget,o=i.deepExtend,r=i.dataviz,a=r.Axis,s=r.Box2D,l=r.ChartElement,c=r.NumericAxis,p=r.Pin,d=r.Ring,g=r.RootElement,u=r.RotationAnimation,h=r.BarIndicatorAnimatin,m=r.ArrowAnimation,f=r.append,x=r.animationDecorator,w=r.autoMajorUnit,v=r.getElement,y=r.getSpacing,b=r.defined,A=r.rotatePoint,k=r.Point2D,_=r.round,z=r.uniqueId,P=150,S="arrow",R="arrowPointer",T="barIndicator",E="#000",B=.05,j=r.COORD_PRECISION,U=Number.MAX_VALUE,V=-Number.MAX_VALUE,D=200,M=.5,L=200,I=60,O=60,C=n.PI/180,G="inside",N="needle",W="outside",X="radialPointer",q=90,Q=l.extend({init:function(e,i){var t=this,o=e.options;l.fn.init.call(t,i),i=t.options,i.id||(i.id=z()),i.fill=i.color,t.scale=e,i.value=b(i.value)?n.min(n.max(i.value,o.min),o.max):o.min},options:{color:E},value:function(e){var i=this,t=i.options,o=t.value,r=i.scale.options;return 0===arguments.length?o:(t._oldValue=t.value,t.value=n.min(n.max(e,r.min),r.max),i.repaint(),undefined)}}),F=Q.extend({options:{shape:N,cap:{size:B},arrow:{width:16,height:14},animation:{type:X,speed:P}},reflow:function(){var e=this,n=e.options,i=e.scale,t=i.ring,o=t.c,r=t.r*n.cap.size;e.box=new s(o.x-r,o.y-r,o.x+r,o.y+r)},repaint:function(){var e=this,n=e.scale,i=e.options,t=e.elements[0],r=i.animation,a=n.slotAngle(n.options.min),s=n.slotAngle(i._oldValue)-a,l=t._animation;t.options.rotation[0]=n.slotAngle(i.value)-a,l&&l.abort(),r.transitions===!1?t.refresh(v(i.id)):(l=t._animation=new u(t,o(r,{startAngle:s,reverse:n.options.reverse})),l.setup(),l.play())},_renderNeedle:function(e,n,i,t){var o=this,r=o.options,a=o.scale,s=a.ring.r*r.cap.size;return[e.createPolyline([A((n.x1+n.x2)/2,n.y1+a.options.minorTicks.size,i.x,i.y,t),A(i.x-s/2,i.y,i.x,i.y,t),A(i.x+s/2,i.y,i.x,i.y,t)],!0,r),e.createCircle(i,s,{fill:r.cap.color||r.color})]},_renderArrow:function(e,n,i,t){var o=this,r=o.options,a=o.scale,s=a.ring.clone(),l=5,c=r.arrow,d=c.height;return s.ir=s.r-l,[e.createPin(new p({origin:A((n.x1+n.x2)/2,n.y1+d,i.x,i.y,t),height:c.height,radius:l,rotation:t,arcAngle:180}),r),e.createRing(s,{fill:r.color})]},renderPointer:function(e){var n,i=this,t=i.scale,r=t.ring,a=r.c,l=r.r,c=i.options,p=new s(a.x-l,a.y-l,a.x+l,a.y+l),d=p.center(),g=t.slotAngle(t.options.min),u=q-g;return c.animation!==!1&&o(c.animation,{startAngle:0,center:d,reverse:t.options.reverse}),o(c,{rotation:[t.slotAngle(c.value)-g,d.x,d.y]}),n=c.shape==S?i._renderArrow(e,p,d,u):i._renderNeedle(e,p,d,u)},getViewElements:function(e){var n=this,i=n.renderPointer(e);return n.elements=i,i}}),H=c.extend({init:function(e){var n=this;n.options=o({},n.options,e),n.options.majorUnit=n.options.majorUnit||w(n.options.min,n.options.max),a.fn.init.call(n,n.options),n.options.minorUnit=n.options.minorUnit||n.options.majorUnit/10},options:{min:0,max:100,majorTicks:{size:15,align:G,color:E,width:M,visible:!0},minorTicks:{size:10,align:G,color:E,width:M,visible:!0},startAngle:-30,endAngle:210,labels:{position:G,padding:2}},reflow:function(e){var i=this,t=i.options,o=e.center(),a=n.min(e.height(),e.width())/2,s=i.ring||new r.Ring(o,a-t.majorTicks.size,a,t.startAngle,t.endAngle-t.startAngle);i.ring=s,i.box=s.getBBox(),i.arrangeLabels()},slotAngle:function(e){var n,i=this.options,t=i.startAngle,o=i.reverse,r=i.endAngle-t,a=i.min,s=i.max;return n=o?i.endAngle-(e-a)/(s-a)*r:(e-a)/(s-a)*r+t},renderTicks:function(e){function n(n,o,r,a,s){var l,c,p,d=i.tickAngles(n,o),g=s/o,u=d.length;if(a)for(l=0;u>l;l++)0!==l%g&&(p=n.point(d[l]),c=n.point(d[l],!0),t.push(e.createLine(c.x,c.y,p.x,p.y,{align:!1,stroke:r.color,strokeWidth:r.width})))}var i=this,t=[],o=i.ring,r=o.clone(),a=i.options,s=a.minorTicks.size;return n(o,a.majorUnit,a.majorTicks,a.majorTicks.visible),a.labels.position==G?r.radius(r.r-s,!0):r.radius(r.ir+s),n(r,a.minorUnit,a.minorTicks,a.minorTicks.visible,a.majorUnit),t},arrangeLabels:function(){var e,i,t,o,r,a,l,c,p,d,g=this,u=g.options,h=g.ring.clone(),m=g.tickAngles(h,u.majorUnit),f=g.labels,x=f.length,w=u.labels,v=w.padding,y=.05*h.r,b=u.rangeSize=u.rangeSize||.1*h.r,A=u.ranges||[];for(g.options.rangeDistance!==undefined?y=g.options.rangeDistance:g.options.rangeDistance=y,w.position===G&&A.length&&(h.r-=b+y,h.ir-=b+y),l=0;x>l;l++)r=f[l],e=r.box.width()/2,i=r.box.height()/2,o=m[l],t=o*C,d=w.position===G,a=h.point(o,d),c=a.x+n.cos(t)*(e+v)*(d?1:-1),p=a.y+n.sin(t)*(i+v)*(d?1:-1),r.reflow(new s(c-e,p-i,c+e,p+i)),g.box.wrap(r.box)},tickAngles:function(e,n){var i,t=this,o=t.options,r=o.reverse,a=o.max-o.min,s=e.angle,l=e.startAngle,c=a/n,p=s/c,d=[];for(r&&(l+=s,p=-p),i=0;c>i;i++)d.push(_(l,j)),l+=p;return _(l)<=o.endAngle&&d.push(l),d},renderRanges:function(e){var n,i,t,o,r,a=this,s=[],l=a.rangeSegments(),c=l.length,p=a.options.reverse;if(c)for(o=a.getRadius(),r=0;c>r;r++)t=l[r],n=a.slotAngle(t[p?"to":"from"]),i=a.slotAngle(t[p?"from":"to"]),0!==i-n&&s.push(e.createRing(new d(a.ring.c,o.inner,o.outer,n,i-n),{fill:t.color,fillOpacity:t.opacity,zIndex:-1}));return s},rangeSegments:function(){function n(e,n,i){return{from:e,to:n,color:i}}var i,t,o,r,a,s=this,l=s.options,c=l.ranges||[],p=c.length,d=l.rangePlaceholderColor,g=[],u=l.min,h=l.max;if(p)for(g.push(n(u,h,d)),r=0;p>r;r++)for(i=e(c[r],u,h),t=g.length,a=0;t>a;a++)if(o=g[a],o.from<=i.from&&i.from<=o.to){g.push(n(i.from,i.to,i.color)),o.from<=i.to&&i.to<=o.to&&g.push(n(i.to,o.to,d)),o.to=i.from;break}return g},getRadius:function(){var e,n,i=this,t=i.options,o=t.rangeSize,r=t.rangeDistance,a=i.ring;return t.labels.position===W?(n=a.ir-r,e=n-o):(n=a.r,e=n-o,a.r-=o+r,a.ir-=o+r),{inner:e,outer:n}},getViewElements:function(e){var n=this,i=l.fn.getViewElements.call(n,e);return f(i,n.renderRanges(e)),f(i,n.renderTicks(e)),i}}),J=l.extend({init:function(e){l.fn.init.call(this,e),this.render()},options:{margin:{},background:"",border:{color:E,width:0},minorTicks:{align:G}},reflow:function(e){var n,i=this,t=i.scale,o=i.pointer;t.reflow(e),n=t.box.clone(),o.scale=t,o.reflow(),n.wrap(o.box),i.box=n,i.fitScale(e),i.alignScale(e)},alignScale:function(e){var n=this,i=n.box.center(),t=e.center(),o=i.x-t.x,r=i.y-t.y,a=n.scale,s=n.pointer;a.ring.c.x-=o,a.ring.c.y-=r,a.reflow(e),s.reflow(),n.box=a.box.clone().wrap(s.box)},fitScale:function(e){for(var i,t,o,r,a=this,s=a.scale,l=s.ring,c=a.box,p=n.abs(a.getDiff(c,e)),d=_(p,j),g=_(-p,j),u=0;!(!(100>u)||(u++,d!=r&&(i=a.getPlotBox(d,e,l),i>=0&&2>=i))||g!=r&&(o=a.getPlotBox(g,e,l),o>=0&&2>=o)||(r=i>0&&o>0?2*d:0>i&&0>o?2*g:_((d+g)/2||1,j),t=a.getPlotBox(r,e,l),t>=0&&2>=t));)t>0?(g=r,o=t):(d=r,i=t)},getPlotBox:function(e,n,i){var t=this,o=t.scale,r=t.pointer;return i=i.clone(),i.r+=e,i.ir+=e,o.ring=i,o.reflow(n),r.scale=o,r.reflow(),t.box=o.box.clone().wrap(r.box),t.getDiff(t.box,n)},getDiff:function(e,i){return n.min(i.width()-e.width(),i.height()-e.height())},render:function(){var e,n=this,i=n.options;e=n.scale=new H(i.scale),n.append(n.scale),n.pointer=new F(e,o({},i.pointer,{animation:{transitions:i.transitions}})),n.append(n.pointer)}}),K=c.extend({init:function(e){var n=this;n.options=o({},n.options,e),n.options=o({},n.options,{labels:{mirror:n.options.mirror}}),n.options.majorUnit=n.options.majorUnit||w(n.options.min,n.options.max),a.fn.init.call(n,n.options),n.options.minorUnit=n.options.minorUnit||n.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:G,color:E,width:M,visible:!0},minorTicks:{size:10,align:G,color:E,width:M,visible:!0},line:{width:M},labels:{position:G,padding:2},mirror:!1,_alignLines:!1},renderRanges:function(n){var i,t,o,r,a,l=this,c=l.options,p=c.min,d=c.max,g=c.ranges||[],u=c.vertical,h=c.labels.mirror,m=[],f=g.length,x=c.rangeSize||c.minorTicks.size/2;if(f)for(r=0;f>r;r++)i=e(g[r],p,d),a=l.getSlot(i.from,i.to),t=u?l.lineBox():a,o=u?a:l.lineBox(),u?t.x1-=x*(h?-1:1):o.y2+=x*(h?-1:1),m.push(n.createRect(new s(t.x1,o.y1,t.x2,o.y2),{fill:i.color,fillOpacity:i.opacity}));return m},getViewElements:function(e){var n=this,i=c.fn.getViewElements.call(n,e);return f(i,n.renderRanges(e)),i}}),Y=Q.extend({init:function(e,n){var i=this;Q.fn.init.call(i,e,n),i.options=o({size:i.pointerSize(),track:{visible:b(n.track)}},i.options)},options:{shape:T,track:{border:{width:1}},color:E,border:{width:1},opacity:1,margin:y(3),animation:{type:T},visible:!0},repaint:function(){var e=this,n=e.scale,i=e.options,t=e.element,r=t._animation;r&&r.abort(),i.animation.transitions===!1?(e.getViewElements(e._view),t.points=e.element.points,t.refresh(v(i.id))):(i.animation=o({},i.animation,{endPosition:n.getSlot(n.options.min,i.value),reverse:n.options.reverse}),r=t._animation=i.shape===S?new m(t,i.animation):new h(t,i.animation),r.setup(),r.play())},reflow:function(){var e,n,i,t=this,o=t.options,r=t.scale,a=r.lineBox(),l=o.track.size||o.size,c=o.size/2,p=r.options.mirror,d=y(o.margin),g=r.options.vertical,u=g?d[p?"left":"right"]:d[p?"bottom":"top"];u=p?-u:u,g?(i=new s(a.x1+u,a.y1,a.x1+u,a.y2),p?i.x1-=l:i.x2+=l,o.shape!==T&&(n=new s(a.x2+u,a.y1-c,a.x2+u,a.y2+c),e=n)):(i=new s(a.x1,a.y1-u,a.x2,a.y1-u),p?i.y2+=l:i.y1-=l,o.shape!==T&&(n=new s(a.x1-c,a.y1-u,a.x2+c,a.y1-u),e=n)),t.trackBox=i,t.pointerRangeBox=n,t.box=e||i.clone().pad(o.border.width)},renderPointer:function(e){var n,i=this,t=i.scale,r=i.options,a=b(r.border)?{stroke:r.border.width?r.border.color||r.color:"",strokeWidth:r.border.width,dashType:r.border.dashType}:{},s=o({fill:r.color,fillOpacity:r.opacity,animation:o(r.animation,{startPosition:t.getSlot(t.options.min,r.value),size:r.size,vertical:t.options.vertical,reverse:t.options.reverse}),id:r.id,zIndex:2,align:!1},a),l=i.pointerShape(r.value);return r.shape===S?(s.animation.type=R,n=e.createPolyline(l,!0,s)):n=e.createRect(l,s),n},pointerShape:function(e){var n,i,t,o=this,r=o.options,a=o.scale,l=a.getSlot(e,a.options.min),c=r.size,p=o.pointerRangeBox,d=a.options.vertical,g=c/2,u=a.options.mirror?-1:1,h=a.options.reverse;return r.shape==S?d?(i=h?"y2":"y1",n=[new k(p.x1,l[i]-g),new k(p.x1-u*c,l[i]),new k(p.x1,l[i]+g)]):(i=h?"x1":"x2",n=[new k(l[i]-g,p.y2),new k(l[i],p.y2+u*c),new k(l[i]+g,p.y2)]):(t=o.trackBox,n=d?new s(t.x1,l.y1,t.x1+c,l.y2):new s(l.x1,t.y1,l.x2,t.y1+c)),n},pointerSize:function(){var e,n=this,i=n.options,t=n.scale,o=t.options.majorTicks.size;return e=i.shape===S?.6*o:.3*o,_(e)},renderTrack:function(e){var n=this,i=n.options,t=i.track,o=t.border||{},r=n.trackBox.clone().pad(o.width||0);return e.createRect(r,{fill:t.color,fillOpacity:t.opacity,stroke:o.width?o.color||t.color:"",strokeWidth:o.width,dashType:o.dashType,align:!1})},getViewElements:function(e){var n=this,i=n.options,t=[];return n.element=n.renderPointer(e),t.push(n.element),!i.track.visible||i.shape!==T&&""!==i.shape||t.push(n.renderTrack(e)),n._view=e,f(t,Q.fn.getViewElements.call(n,e)),t}}),Z=l.extend({init:function(e){l.fn.init.call(this,e),this.render()},options:{plotArea:{margin:{},background:"",border:{color:E,width:0}},pointer:{},scale:{}},reflow:function(e){var n=this,i=n.scale,t=n.pointer;i.reflow(e),t.reflow(e),n.box=n.getBox(e),n.alignElements(),n.shrinkElements()},shrinkElements:function(){var e=this,i=e.scale,t=e.pointer,o=i.box.clone(),r=t.box,a=i.options.vertical?"y":"x";o[a+1]+=n.max(o[a+1]-r[a+1],0),o[a+2]-=n.max(r[a+2]-o[a+2],0),i.reflow(o),t.reflow(e.box)},getBox:function(e){var n,i=this,t=i.scale,o=i.pointer,r=e.center(),a=o.box.clone().wrap(t.box);return t.options.vertical?(n=a.width()/2,a=new s(r.x-n,e.y1,r.x+n,e.y2)):(n=a.height()/2,a=new s(e.x1,r.y-n,e.x2,r.y+n)),a},alignElements:function(){var e,n=this,i=n.scale,t=n.pointer,o=i.box,r=t.box.clone().wrap(i.box),a=n.box;i.options.vertical?(e=a.center().x-r.center().x,i.reflow(new s(o.x1+e,a.y1,o.x2+e,a.y2))):(e=a.center().y-r.center().y,i.reflow(new s(a.x1,o.y1+e,a.x2,o.y2+e))),t.reflow(n.box)},render:function(){var e,n=this,i=n.options;e=n.scale=new K(i.scale),n.append(n.scale),n.pointer=new Y(e,o({},i.pointer,{animation:{transitions:i.transitions}})),n.append(n.pointer)},getViewElements:function(e){var n=this,i=n.options.plotArea,t=l.fn.getViewElements.call(n,e),o=i.border||{},r=[e.createRect(n.box,{fill:i.background,stroke:o.width?o.color:"",strokeWidth:o.width,dashType:o.dashType})];return f(r,t),r}}),$=t.extend({init:function(e,n){var i,a,s,l,c=this,p=r.ui.themes||{};t.fn.init.call(c,e),c.wrapper=c.element,c._originalOptions=o({},n),i=o({},c.options,n),s=i.theme,l=p[s]||p[s.toLowerCase()],a=s&&l?l.gauge:{},c.options=o({},a,i),c.element.addClass("k-gauge"),c.redraw()},options:{plotArea:{},theme:"default",pointer:{},scale:{},gaugeArea:{}},value:function(e){return 0===arguments.length?this._pointers[0].value():(this._pointers[0].value(e),undefined)},redraw:function(){var e,n=this,i=n.element,t=n._model=n._getModel(),o=r.ui.defaultView();n._plotArea=t._plotArea,o&&(e=n._view=o.fromModel(t),i.css("position","relative"),n._viewElement=e.renderTo(i[0]))},svg:function(){var e=this._getModel(),n=r.SVGView.fromModel(e);return n.render()},_createModel:function(){var e=this,n=e.options,i=e._getSize();return new g(o({width:i.width,height:i.height,transitions:n.transitions},n.gaugeArea))},_getSize:function(){var e=this,n=e.element,i=n.width(),t=n.height();return i||(i=L),t||(t=D),{width:i,height:t}}}),en=$.extend({init:function(e,n){var t=this;$.fn.init.call(t,e,n),i.notify(t,r.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},_getModel:function(){var e,n=this,i=n.options,t=n._createModel();return e=t._plotArea=new J(i),n._pointers=[e.pointer],t.append(e),t.reflow(),t}}),nn=$.extend({init:function(e,n){var t=this;$.fn.init.call(t,e,n),i.notify(t,r.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},_getModel:function(){var e,n=this,i=n.options,t=n._createModel();return e=t._plotArea=new Z(i),n._pointers=[e.pointer],t.append(e),t.reflow(),t},_getSize:function(){var e=this,n=e.element,i=n.width(),t=n.height(),o=e.options.scale.vertical;return i||(i=o?I:L),t||(t=o?D:O),{width:i,height:t}}}),tn=x(X,u),on=x(R,m),rn=x(T,h);r.ui.plugin(en),r.ui.plugin(nn),o(r,{Gauge:$,RadialGaugePlotArea:J,LinearGaugePlotArea:Z,RadialPointer:F,LinearPointer:Y,LinearScale:K,RadialScale:H,RadialPointerAnimationDecorator:tn,ArrowPointerAnimationDecorator:on,BarIndicatorAnimationDecorator:rn})})(window.kendo.jQuery)});