/*
* Kendo UI Complete v2013.1.319 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(n,e){return e()})(["./kendo.mobile.view.min","./kendo.mobile.loader.min"],function(){(function(n,e){function i(e){w(n(e.currentTarget),"rel")!=d&&e.preventDefault()}var t=window.kendo,o=t.mobile,a=t.roleSelector,r=o.ui,s=r.Widget,u=o.ViewEngine,l=o.ui.Loader,d="external",p="href",c="#!",v="navigate",g="viewShow",f=/popover|actionsheet|modalview/,h="#:back",w=t.attrValue,m="button backbutton detailbutton listview-link",b="tab",k=s.extend({init:function(n,e){var i,t=this;s.fn.init.call(t,n,e),n=t.element,n.addClass("km-pane"),t.history=[],t.loader=new l(n,{loading:t.options.loading}),t.viewEngine=new u({container:n,transition:t.options.transition,serverNavigation:t.options.serverNavigation,layout:t.options.layout,loader:t.loader}),t.viewEngine.bind(g,function(n){t.trigger(g,n)}),t.viewEngine.bind("viewTypeDetermined",function(n){n.remote&&t.options.serverNavigation||t.trigger(v,{url:n.url})}),i=t.options.initial,i&&t.navigate(i),t._setupAppLinks()},options:{name:"Pane",transition:"",layout:"",initial:e,loading:e},events:[v,g],destroy:function(){s.fn.destroy.call(this),t.destroy(this.element)},navigate:function(n,e){var i=this,t=i.history;n===h?(t.pop(),n=t[t.length-1]):i.history.push(n),i.viewEngine.showView(n,e)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){this.element.handler(this).on("down",a(b),"_mouseup").on("up",a(m),"_mouseup").on("click",a(b+" "+m),i)},_mouseup:function(i){if(!(i.which>1||i.isDefaultPrevented())){var a=n(i.currentTarget),s=w(a,"transition"),u=w(a,"rel")||"",l=w(a,"target"),v=this,g=a.attr(p);u!==d&&g!==e&&g!==c&&(a.attr(p,c),setTimeout(function(){a.attr(p,g)}),u.match(f)?(t.widgetInstance(n(g),r).openFor(a),i.stopPropagation()):("_top"===l?v=o.application.pane:l&&(v=n("#"+l).data("kendoMobilePane")),v.navigate(g,s)),i.preventDefault())}}});r.plugin(k)})(window.kendo.jQuery)});