@using Cats.Web.Hub.Helpers
@model Cats.Areas.Procurement.Models.WinnersGeneratorParameters


@using (Html.BeginForm())
{
 
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                        <label>BID Reference Number</label>
                        @Html.DropDownList("BidID", null, new { @class = "form-control input-medium" })
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Region</label>
                    @Html.DropDownList("RegionID", null, new {@class = "form-control input-medium"})

                </div>
            </div>
            <div class="col-md-4">
                <div class="" style="margin: 25px 0;">
                    <input type="submit" value="Show Proposals" class="btn btn-default" />
                </div>
            </div>
            
        </div>
 
}
<!-- Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title" id="myModalLabel">Are you sure you want to generate winners now?</h4>
            </div>
            <div class="modal-body">
                <div class="note note-danger">
                    <strong>
                        Once you generate winners for the specific Bid and region,
                        you can't do it again. So Before proceeding make sure that
                        the bid proposals are complete and correct.
                    </strong>
                </div>
            </div>
            <div class="modal-footer">
                <a id="btnAddProposal" class="btn blue toolbar-btn " href="@Url.Action("IdentifyWinners", "PriceQuotation", new
                                                                      {
                                                                          bidNumber = @ViewBag.filter.BidID,
                                                                          regionID = @ViewBag.filter.RegionID
                                                                      })">Continue</a>
                <button type="button" class="btn default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    
</div>

<!--<script>
    var bidNumber = 15;
    var regionID = 2;

    var postUrl = "@Url.Action("IdentifyWinners", "PriceQuotation")";
    var onSuccess = function (data) {
        $('#myModal').modal('hide');
    };
    var onFail = function (data) {
        $('#modalContent').html("Error");
    };

    function generate() {
        var reqParam = { bidNumber: bidNumber, regionID: regionID };
        $.post(postUrl, reqParam, onSuccess, onFail);
    }

</script>-->
