@*using StackExchange.Profiling;*@
@using Cats.Services.Security;
@using Cats.Helpers;

@{
    UserIdentity user = (UserIdentity)HttpContext.Current.User.Identity;
    string theme = "default";
    var spanWidth = "span12";
}

<!DOCTYPE html>
<!-- 
Author: Biruk Tilahun
Website: http://www.cats.dppc.gov.et/
Contact: engbiruk@gmail.com
Follow: www.twitter.com/engbiruk
Like: www.facebook.com/Eng.Biruk.Tilahun
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->
    
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
        <title>@Html.Translate("Commodity Allocation & Tracking System")</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <!--<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all" rel="stylesheet" type="text/css"/>-->
        <link href="~/Content/assetss/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>

        

        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGIN STYLES -->
        <link rel="stylesheet" type="text/css" href="~/Content/assetss/global/plugins/bootstrap-datepicker/css/datepicker3.css" />
        <!--<link href="~/Content/assetss/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css"/>-->
        <!--<link href="~/Content/assetss/global/plugins/fullcalendar/fullcalendar.min.css" rel="stylesheet" type="text/css"/>-->
        <!--<link href="~/Content/assetss/global/plugins/jqvmap/jqvmap/jqvmap.css" rel="stylesheet" type="text/css"/>-->
        <!-- END PAGE LEVEL PLUGIN STYLES -->
        <!-- BEGIN PAGE STYLES -->
        <link href="~/Content/assetss/admin/pages/css/tasks.css" rel="stylesheet" type="text/css"/>
        <!-- END PAGE STYLES -->
        <!-- BEGIN THEME STYLES -->
        <link href="~/Content/assetss/global/css/components.css" id="style_components" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/global/css/plugins.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/admin/layout/css/layout.css" rel="stylesheet" type="text/css"/>
        <link id="style_color" href="~/Content/assetss/admin/layout/css/themes/darkblue.css" rel="stylesheet" type="text/css"/>
        <link href="~/Content/assetss/admin/layout/css/custom.css" rel="stylesheet" type="text/css"/>

        <link href="~/Scripts/Beka.EthDate/jquery-ui-1.9.2.custom.css" rel="stylesheet" type="text/css" />
        <link href="~/Scripts/Beka.EthDate/calendar.css" rel="stylesheet" type="text/css" />
        <!-- END THEME STYLES -->
        <link rel="shortcut icon" href="favicon.ico"/>
        <script src="~/Content/assetss/global/plugins/jquery.min.js" type="text/javascript"></script>
<!-- Fom Cats -->
    <script src="~/Scripts/kendo/2013.1.319/jquery.min.js"></script>
    <script type="text/javascript" src="~/Scripts/Beka.EthDate/Beka.EthDate.js"> </script>
    <script type="text/javascript" src="~/Scripts/Beka.EthDate/jquery.Beka.EthCalDatePicker.js"> </script>
    <script type="text/javascript" src="~/Scripts/js/CatsUI.js"> </script>
    
    <link rel="shortcut icon" type="image/ico" href="~/Content/images/CATS_Blue.ico">
    <!-- Le styles
    <link href="~/Content/assets/css/bootstrap.css" rel="stylesheet">-->
    @*<link href="~/Content/themes/@theme/bootstrap.min.css" rel="stylesheet">*@
    <link type="image/x-icon" href="~/Content/images/CatsLogo.ico" rel="shortcut icon"/>
    
    
    <link href="~/Content/kendo/2013.1.319/kendo.common.min.css" rel="stylesheet" />
    <link href="@Url.Content("~/Content/kendo/2013.1.319/kendo.default.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2013.1.319/kendo.bootstrap.min.css")" rel="stylesheet" type="text/css" />


    @RenderSection("Styles", required: false)
    <script src="~/Scripts/bootbox.min.js"></script>

    <script src="~/Scripts/kendo/2013.1.319/kendo.all.min.js"></script>
    <script src="~/Scripts/kendo/2013.1.319/kendo.aspnetmvc.min.js" type="text/javascript"></script>
    <script src="~/Scripts/angular/angular.js"> </script>
    <script src="~/Scripts/angular/angular-resource.js"></script>
        <script src="~/Content/assets/js/bootstrap-tooltip.js"></script>
        <script src="~/Content/assets/js/bootstrap-popover.js"></script>
    @*<script src="~/Scripts/ng-table.js"></script>*@
    
    <script type="text/javascript">
        var rootDir = "@Url.Content("~/")";
    </script>
    <style type="text/css">
        body {
            /*padding-top: 60px;
            padding-bottom: 40px;*/
            /*background-color: #f5f5f5;*/
        }

        /*table .single-line {
            width: 90%;
            margin: 0;
        }

        .field-validation-error {
            color: #A00;
        }

        footer {
            bottom: 0;
        }*/

        .cats_info, .cats_success, .cats_warning, .cats_error {
            margin: 10px 0px;
            padding: 8px 10px 8px 50px;
            background-repeat: no-repeat;
            background-position: 10px center;
            -moz-border-radius: .5em;
            -webkit-border-radius: .5em;
            border-radius: .5em;
        }

        .cats_info {
            color: #00529B;
            background-color: #BDE5F8;
            background-image: url('../../Content/images/info.png');
        }

        .cats_success {
            color: #4F8A10;
            background-color: #DFF2BF;
            background-image: url('../../Content/images/success.png');
        }

        .cats_warning {
            color: #9F6000;
            background-color: #FEEFB3;
            background-image: url('../../Content/images/warning.png');
        }

        .cats_error {
            color: #D8000C;
            background-color: #FFBABA;
            background-image: url('../../Content/images/error.png');
        }
    </style>
    

    <script>

        $(function () {

            var timer = 10000;
            clearTimeout(timer);
            timer = setTimeout(function () {
                $(".message-window").html('');
            }, 10000);
            //alert(timer);

        });
    </script>

<!-- End from Cats -->

    </head>
<!-- END HEAD -->

<body class="page-header-fixed page-quick-sidebar-over-content page-full-width">
    @RenderSection("BeginAngular", required: false)

    @Html.Partial("NewTheme_MainMenu")
    <div class=""><!-- Add container for boxed layout-->
        <div class="page-container">
            <!-- BEGIN SIDEBAR -->
            <div class="page-sidebar-wrapper">
                <!-- BEGIN HORIZONTAL RESPONSIVE MENU -->
                <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
                <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
                <div class="page-sidebar navbar-collapse collapse">
                    <ul class="page-sidebar-menu" data-slide-speed="200" data-auto-scroll="true">
                        <!-- DOC: To remove the search box from the sidebar you just need to completely remove the below "sidebar-search-wrapper" LI element -->
                        <!-- DOC: This is mobile version of the horizontal menu. The desktop version is defined(duplicated) in the header above -->
                        @*@Html.Partial("_responsiveMenuBar")*@
                        @*@{
                            if (IsSectionDefined("LeftBar"))
                            {
                                                spanWidth = "span10";
                                <div class="span2 column-divider">
                                    <div class="sidebar-nav">
                                        <ul class="nav nav-list">
                                            @RenderSection("LeftBar", required: false)
                                        </ul>
                                    </div>
                                </div>
                                            }
                            }*@
                    </ul>
                </div>
                <!-- END HORIZONTAL RESPONSIVE MENU -->
            </div>
            <!-- END SIDEBAR -->
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <div class="page-content">
                    @{
                    if (IsSectionDefined("LeftBar"))
                    {
                        <text>
                            <div class="row">
                                <div class="col-md-2 sidebar-content" style="border-right: 2px rgba(43, 54, 67, 0.12) solid;">
                                    @RenderSection("LeftBar")
                                </div>
                            <div class="col-md-10">
                        </text>
                    }
                    }
                    <!-- BEGIN PAGE HEADER-->
                    <h3 class="page-title">
                        @ViewBag.PageTitle <small>@ViewBag.PageTitleDescription</small>
                    </h3>
                    <div class="page-bar">
                        @if (ViewBag.program != null)
                        {

                            @Html.Partial("NewTheme_BreadCrumb", (string) ViewBag.program)
                        }
                        else
                        {
                            @Html.Partial("NewTheme_BreadCrumb", "")
                        }
                        <div class="page-toolbar">
                            @RenderSection("Toolbar", required: false)

                        </div>
                    </div>
                    <!-- END PAGE HEADER-->
                    <!-- BEGIN ALERT CONTAINER-->
                    <div style="clear: both;" class="message-window">@RenderSection("Errors", required: false)@Html.CustomValidationSummary()</div>
                    <!-- END ALERT CONTAINER-->
                    <!-- BEGIN DASHBOARD STATS -->
                    @RenderBody()
                    <!-- END DASHBOARD STATS -->
                    <div class="clearfix">
                    </div>
                    @{
                        if (IsSectionDefined("LeftBar"))
                        {
                            @:</div>
                            @:</div>
                    }
                    }
                </div>

            </div>
            <!-- END CONTENT -->

        </div>

        <!-- END CONTAINER -->
        <div class="container-fluid">
            <div id="div_help_panel" style="display: none;">
                <style>
                    .left_panel {
                        position: fixed;
                        left: -510px;
                        top: 0px;
                        border: solid 1px #ccc;
                        width: 25%;
                        bottom: 0px;
                        background: rgba(0,0,0,0.8);
                    }

                        .left_panel * {
                            color: #FFF;
                        }

                        .left_panel .content {
                            margin-top: 60px;
                            padding: 4px;
                        }
                </style>
                <script>
                $(document).ready(function () {

                    $("#toolbar_btn_help").click(function () {
                        var curPosition = $("#div_content_panel").css("left");
                        if (curPosition == '0px') {
                            $("#div_content_panel").animate({ "left": "-=510px" }, "slow");
                        }
                        if (curPosition == '-510px') {
                            $("#div_content_panel").animate({ "left": "+=510px" }, "slow");
                        }
                    });

                });

                </script>
                <div id="div_content_panel" class="left_panel">
                    <div class="content">
                        Help Content
                    </div>
                </div>
            </div>
        </div>

        <!-- BEGIN FOOTER -->
        <div class="page-footer">
            <div class="page-footer-inner">
                @Html.Partial("_Version")
            </div>
            <div class="scroll-to-top">
                <i class="icon-arrow-up"></i>
            </div>
        </div>
        <!-- END FOOTER -->
    </div>
    @RenderSection("EndAngular", required:false)


    

    <!-- javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    @RenderSection("Scripts", required: false)

    <script src="~/Content/assets/js/jquery.validate.min.js"></script>
    <script src="~/Content/assets/js/jquery.validate.js"></script>

    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

    @*<link href="~/Scripts/Beka.EthDate/jquery-ui-1.9.2.custom.css" rel="stylesheet" type="text/css" />
    <link href="~/Scripts/Beka.EthDate/calendar.css" rel="stylesheet" type="text/css" />*@


    <script type="text/javascript" src="~/Scripts/js/highcharts.js"></script>
    <script type="text/javascript" src="~/Scripts/js/exporting.js"></script>

    @*<script src="~/Content/assets/js/bootstrap-transition.js"></script>
    <script src="~/Content/assets/js/bootstrap-alert.js"></script>
    <script src="~/Content/assets/js/bootstrap-modal.js"></script>
    <script src="~/Content/assets/js/bootstrap-dropdown.js"></script>
    <script src="~/Content/assets/js/bootstrap-scrollspy.js"></script>
    <script src="~/Content/assets/js/bootstrap-tab.js"></script>
    <script src="~/Content/assets/js/bootstrap-button.js"></script>
    <script src="~/Content/assets/js/bootstrap-collapse.js"></script>
    <script src="~/Content/assets/js/bootstrap-carousel.js"></script>
    <script src="~/Content/assets/js/bootstrap-typeahead.js"></script>
    <script src="~/Content/assets/js/bootstrap-datepicker.js"></script>
    <script src="~/Scripts/js/bootstrap-timepicker.min.js"></script>*@

    

    @*@MiniProfiler.RenderIncludes()*@
    <!-- JIRA Collector scripts -->
    @*<script type="text/javascript" src="https://cats-edge.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e/en_US-d926hj-1988229788/6207/22/1.4.3/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=630f8204"></script>*@


    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
        <!-- BEGIN CORE PLUGINS -->
        <!--[if lt IE 9]>
        <script src="~/Content/assetss/global/plugins/respond.min.js"></script>
        <script src="~/Content/assetss/global/plugins/excanvas.min.js"></script> 
        <![endif]-->
        @*<script src="~/Content/assetss/global/plugins/jquery.min.js" type="text/javascript"></script>*@
        <script src="~/Content/assetss/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
        <!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
        <script src="~/Content/assetss/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
            @*<script src="~/Content/assets/js/bootstrap-datepicker.js"></script>*@
<script type="text/javascript" src="~/Content/assetss/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
            <script src="~/Content/assetss/global/plugins/bootstrap-confirmation/bootstrap-confirmation.min.js" type="text/javascript"></script>

            
<!--        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/jquery.vmap.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.russia.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.world.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.europe.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.germany.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.usa.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jqvmap/jqvmap/data/jquery.vmap.sampledata.js" type="text/javascript"></script>-->
<!--        <script src="~/Content/assetss/global/plugins/flot/jquery.flot.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/flot/jquery.flot.resize.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/flot/jquery.flot.categories.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery.pulsate.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/bootstrap-daterangepicker/moment.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>-->
        <!-- IMPORTANT! fullcalendar depends on jquery-ui.min.js for drag & drop support -->
<!--        <script src="~/Content/assetss/global/plugins/fullcalendar/fullcalendar.min.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery-easypiechart/jquery.easypiechart.js" type="text/javascript"></script>
        <script src="~/Content/assetss/global/plugins/jquery.sparkline.min.js" type="text/javascript"></script>-->
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="~/Content/assetss/global/scripts/metronic.js" type="text/javascript"></script>
        <script src="~/Content/assetss/admin/layout/scripts/layout.js" type="text/javascript"></script>
        <script src="~/Content/assetss/admin/layout/scripts/quick-sidebar.js" type="text/javascript"></script>
        <script src="~/Content/assetss/admin/layout/scripts/demo.js" type="text/javascript"></script>
        <script src="~/Content/assetss/admin/pages/scripts/index.js" type="text/javascript"></script>
        <script src="~/Content/assetss/admin/pages/scripts/tasks.js" type="text/javascript"></script>
<script src="~/Content/assetss/admin/pages/scripts/portlet-draggable.js"></script>
<script src="~/Content/assetss/admin/pages/scripts/components-pickers.js"></script>
    <script src="~/Content/assets/js/bootstrap-typeahead.js"></script>
            @*<script src="../../assets/admin/pages/scripts/ui-confirmations.js"></script>*@
        <!-- END PAGE LEVEL SCRIPTS -->
        <script>
            jQuery(document).ready(function () {
                Metronic.init(); // init metronic core components
                Layout.init(); // init current layout
                //QuickSidebar.init(); // init quick sidebar
                Demo.init(); // init demo features // initlayout and core plugins
                Index.init();
                //Index.initDashboardDaterange();
                ComponentsPickers.init();
                Index.initJQVMAP(); // init index page's custom scripts
                //Index.initCalendar(); // init index page's custom scripts
                Index.initCharts(); // init index page's custom scripts
                Index.initChat();
                Index.initMiniCharts();
                //Index.initDashboardDaterange();
                Tasks.initDashboardWidget();
                PortletDraggable.init();
                //UIConfirmations.init(); // init page demo
                $('.loading-btn')
                  .click(function () {
                    var btn = $(this);
                    btn.button('loading');
                    setTimeout(function() {
                        btn.button('reset');
                    }, 60000);
                });
            });
        </script>
    <script type="text/javascript">
    @{
        var calendarPreference = Html.UserCalendarPreference();
      }
        init_datepicker("@calendarPreference");


        //Script to generate row number
        /*

        */
        var rowNumber = 0;

        function resetRowNumber(e) {
            rowNumber = 0;
        }

        function renderNumber(data) {
            return ++rowNumber;
        }

    </script>



    <script type="text/javascript">
        var datepreferencedisplay = "@Html.UserCalendarPreference()";
        var unitpreferencedisplay = "@Html.UserUnitPreference()";

        
        $(function () {

            //For label
            $(".cats-date-pref").append(' (' + datepreferencedisplay + ')');
            $(".cats-unit-pref").append(' (' + unitpreferencedisplay + ')');
            //For grid
            $(".cats-date-pref-grid >.k-link").append("(" + datepreferencedisplay + ")");
            $(".cats-unit-pref-grid >.k-link").append("(" + unitpreferencedisplay + ")");
            /*each(function () {
                $(this).append("(" + datepeferencedisplay + ")");

            });*/
        });

        function toCatsPreferedUnit(data) {
           
            if (unitpreferencedisplay.toLowerCase().trim() != "mt") {
                return data * 10;
            } else {
                return data;
            }
        }

    </script>
        <!-- END JAVASCRIPTS -->
</body>
</html>
